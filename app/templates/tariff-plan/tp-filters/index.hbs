<main class="page-content">
  <div class="container xl">
    <div class="actions-subtitle">
      <h2>TpFilters list</h2>
      <ul class="actions">
        {{tp-index-buttons
          model=model
          tariffPlanId=tariffPlanId
          permittedFilters=permittedFilters
          refresh='refresh'
          controller=this
        }}
      </ul>
    </div>
    <div class="row">
      <div class=" col-md-9">
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
            <tr>
              {{sort-header label='PK'                  key='id'                 sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              {{sort-header label='ID'                  key='customId'           sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              {{sort-header label='Tenant'              key='tenant'             sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy' data-test-sort-tenant=true}}
              {{sort-header label='Filter type'         key='filterType'         sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              {{sort-header label='Filter field name'   key='filterFieldName'    sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              {{sort-header label='Activation interval' key='activationInterval' sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              {{sort-header label='Created at'          key='createdAt'          sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              <td>Actions</td>
            </tr>
            </thead>
            <tbody>
            {{#each model as |tpFilter|}}
              <tr>
                <td>
                  {{#link-to 'tariff-plan.tp-filters.tp-filter' tpFilter}}{{tpFilter.id}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-filters.tp-filter' tpFilter}}{{tpFilter.customId}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-filters.tp-filter' tpFilter}}{{tpFilter.tenant}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-filters.tp-filter' tpFilter}}{{tpFilter.filterType}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-filters.tp-filter' tpFilter}}{{tpFilter.filterFieldName}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-filters.tp-filter' tpFilter}}{{tpFilter.activationInterval}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-filters.tp-filter' tpFilter}}{{moment-format tpFilter.createdAt}}{{/link-to}}
                </td>
                <td class="actions">
                  {{#link-to 'tariff-plan.tp-filters.tp-filter.edit' tpFilter}}
                    <i class="material-icons circle btn btn-primary" data-test-tp-filter-edit>edit</i>
                  {{/link-to}}
                  <a {{action 'remove' tpFilter}} class="ml-1">
                    <i class="material-icons circle btn btn-danger" data-test-tp-filter-remove>remove</i>
                  </a>
                </td>
              </tr>
            {{/each}}
            </tbody>
          </table>
        </div>
        {{page-numbers content=pagination action='toPage'}}
      </div>
      <div class="col-md-3">
        {{#filters-block search='search' as |filtersBlock|}}
          {{#filter-text
            label='ID'
            key='id'
            value=id
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-id=true
          }}{{/filter-text}}

          {{#filter-text
            label='Tenant'
            key='tenant'
            value=tenant
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-tenant=true
          }}{{/filter-text}}

          {{#filter-select
            label='Filter type'
            key='filterType'
            value=filterType
            onValueChange=(action 'pushValue' target=filtersBlock)
            content=selectValues.filterTypes
            class="fiter-type-select"
            data-test-filter-fitertype=true
          }}{{/filter-select}}

          {{#filter-text
            label='Filter field name'
            key='filterFieldName'
            value=filterFieldName
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-field-name=true
          }}{{/filter-text}}

          {{#filter-text
            label='Activation interval'
            key='activationInterval'
            value=activationInterval
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-activation-interval=true
          }}{{/filter-text}}
        {{/filters-block}}
      </div>
    </div>
  </div>
</main>