<main class="page-content">
  <div class="container xl">
    <div class="actions-subtitle">
      <h2>Suppliers list</h2>
      <ul class="actions">
        {{tp-index-buttons
          model=model
          tariffPlanId=tariffPlanId
          permittedFilters=permittedFilters
          refresh='refresh'
          controller=this
        }}
      </ul>
    </div>
    <div class="row">
      <div class=" col-md-9">
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
            <tr>
              {{sort-header label='ID'          key='id'         sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              {{sort-header label='Custom ID'   key='customId'   sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              {{sort-header label='Tenant'      key='tenant'     sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'data-test-sort-tenant=true}}
              {{sort-header label='Filter IDs'  key='filterIds'  sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              {{sort-header label='Sorting'     key='sorting'    sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              {{sort-header label='Supplier ID' key='supplierId' sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              {{sort-header label='Weight'      key='weight'     sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              {{sort-header label='Created at'  key='createdAt'  sortColumn=sortColumn sortOrder=sortOrder sortAction='sortBy'}}
              <td>Actions</td>
            </tr>
            </thead>
            <tbody>
            {{#each model as |tpSupplier|}}
              <tr>
                <td>
                  {{#link-to 'tariff-plan.tp-suppliers.tp-supplier' tpSupplier}}{{tpSupplier.id}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-suppliers.tp-supplier' tpSupplier}}{{tpSupplier.customId}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-suppliers.tp-supplier' tpSupplier}}{{tpSupplier.tenant}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-suppliers.tp-supplier' tpSupplier}}{{tpSupplier.filterIds}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-suppliers.tp-supplier' tpSupplier}}{{tpSupplier.sorting}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-suppliers.tp-supplier' tpSupplier}}{{tpSupplier.supplierId}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-suppliers.tp-supplier' tpSupplier}}{{tpSupplier.weight}}{{/link-to}}
                </td>
                <td>
                  {{#link-to 'tariff-plan.tp-suppliers.tp-supplier' tpSupplier}}{{moment-format tpSupplier.createdAt}}{{/link-to}}
                </td>
                <td class="actions">
                  {{#link-to 'tariff-plan.tp-suppliers.tp-supplier.edit' tpSupplier}}
                    <i class="material-icons circle btn btn-primary" data-test-tp-supplier-edit>edit</i>
                  {{/link-to}}
                  <a {{action 'remove' tpSupplier}} class="ml-1">
                    <i class="material-icons circle btn btn-danger" data-test-tp-supplier-remove>remove</i>
                  </a>
                </td>
              </tr>
            {{/each}}
            </tbody>
          </table>
        </div>
        {{page-numbers content=pagination action='toPage'}}
      </div>
      <div class="col-md-3">
        {{#filters-block search='search' as |filtersBlock|}}
          {{filter-text
            label='Custom ID'
            key='customId'
            value=customId
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-custom-id=true
          }}
          {{filter-text
            label='Filter IDs'
            key='filterIds'
            value=filterIds
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-filter-ids=true
          }}
          {{filter-text
            label='Sorting'
            key='sorting'
            value=sorting
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-sorting=true
          }}
          {{filter-text
            label='Supplier ID'
            key='supplierId'
            value=supplierId
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-supplier-id=true
          }}
          {{filter-text
            label='Weight'
            key='weight'
            value=weight
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-weight=true
          }}
          {{filter-text
            label='Supplier weight'
            key='supplierWeight'
            value=supplierWeight
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-supplier-weight=true
          }}
          {{filter-text
            label='Activation interval'
            key='activationInterval'
            value=activationInterval
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-activation-interval=true
          }}
          {{filter-text
            label='Activation interval'
            key='activationInterval'
            value=activationInterval
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-activation-interval=true
          }}
          {{filter-text
            label='Sorting parameters'
            key='sortingParameters'
            value=sortingParameters
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-sorting-parameters=true
          }}
          {{filter-text
            label='Supplier filter ids'
            key='supplierFilterIds'
            value=supplierFilterIds
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-supplier-filter-ids=true
          }}
          {{filter-text
            label='Supplier account ids'
            key='supplierAccountIds'
            value=supplierAccountIds
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-supplier-account-ids=true
          }}
          {{filter-text
            label='Supplier rating plan ids'
            key='supplierRatingplanIds'
            value=supplierRatingplanIds
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-supplier-ratingplan-ids=true
          }}
          {{filter-text
            label='Supplier resource ids'
            key='supplierResourceIds'
            value=supplierResourceIds
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-supplier-resource-ids=true
          }}
          {{filter-text
            label='Supplier stat ids'
            key='supplierStatIds'
            value=supplierStatIds
            onValueChange=(action 'pushValue' target=filtersBlock)
            data-test-filter-supplier-stat-ids=true
          }}
        {{/filters-block}}
      </div>
    </div>
  </div>
</main>